#Apache Spark
빅데이터 처리를 위한 오픈소스 병렬분산처리 플랫폼
scala로 작성됌. python, java, scala, R 지원

분산병렬 시스템
- 시스템 구성 컴포넌트들이 네트워크로 연결된 다른 컴퓨터에 위치하여 메시지를 통해 통신하고 실행 조정.
- 하나의 컴포넌트가 실패해도 회복가능해야함.
- 작업을 여러개로 나눠 동시에 처리할 수 있도록 함.
- 분산시스템에서 메모리 cpu 등 자원관리해줘야함. (spark는 다른 도구에 의존)

데이터 프로세싱
- 데이터에 접근하고 읽어 가공하거나 변형 후 write 가능하도록 함.
- 스파크의 경우
  데이터처리, 메모리상에 임시적으로 데이터 저장, 메모리->디스크 간 데이터 읽고 쓰기
  스파크는 디스크를 캐리와 같은 한정된 형태로만 사용

스파크 구조 (데이터소스 + 스파크 코어 + 용도별 라이브러리)
*데이터소스로 HDFS외 HIVE, HBase, PostgreSQL, MySQL, csv 등 받음.
*스파크 코어(병렬분산처리 엔진)중심을로 여러 라이브러리 제공
- 쿼리언어로 구조화된 데이터 처리 -> 스파크 SQL
- 스트림처리 -> 스파크 스트리밍
- 머신러닝 -> MLlib
- 그래프 처리 -> 그래프X
- R로 데이터 처리 -> 스파크 R

스파크 적용이 좋은 환경
데이터소스로부터 데이터를 읽은 후 스토리지I/O, 네트워크I/O를 최소화하도록 처리하므로
1. 지연이 작게 동작하는 특성을 활용해 스트림처리를 원하는 경우
2. 동일한 데이터에 대한 변환처리가 연속으로 이루어지는 경우
3. 머신러닝처럼 결과셋을 여러번 반복해 처리하는 경우

-------------------------------------------------------------------------------------------------------------
#데이터분석가/엔진니어/과학자 관점 스파크 활용
입력 데이터에 대해 유사한 함수 적용경우
기존 : 맵리듀스 방식 - 데이터셋을 메모리에 유지한 상태로 재처리 불가
                  -> 매번 쿼리 발행, 결과 디스크에 보존, 다시 읽어 메모리에 로드
      스파크 방식 - 연속 처리시 불필요한 디스크 및 네트워크 I/O 발생안함. 메모리에 일시적 저장.
                  -> 고속처리 가능.

-------------------------------------------------------------------------------------------------------------
#스파크의 데이터 처리 방법
RDD 자료구조 이용 (RDD를 가공하여 새로운 RDD 생성 및 반복 -> 원하는 결과)
파티션 = 스파크 내 분산처리 단위

RDD는 배열이나 리스트 등의 요소를 저장. 여러개의 파티션으로 구분.
RDD를 파티션 단위로 여러 머신에서 처리하므로 한대의 머신으로 처리할 수 있는 것보다 더 큰 데이터 다룰 수 있음.

RDD에는 변환/액션 두 종류 처리 방식이 있음.
변환 - RDD를 가공하고 그결과 새로운 RDD를 얻는 처리방식
    - 변환 내에서도 두종류로 구분
      1. 변환처리 전 RDD의 요소를 같은 RDD의 다른 요소들과 관계없이 처리 (ex. filter, map, flatmap, zip)
      2. 변환 전 RDD의 요소를 같은 RDD의 다른 요소와 함께 처리하는 변환 (ex. reduceByKey, join)
액션 - RDD 내용 바탕으로 가공없이 원하는 결과를 얻는 조작방식.
    - (ex. saveAsTextFile, count)

#스파크가 클러스터 환경에서 RDD 처리방식
스파크는 세종류의 클러스터 관리 시스템 지원
YARN - 하둡의 클러스터 관리 시스템. 데이터 소스로 HDFS를 이용할 경우 YARN 사용시 데이터의 지역성이 고려되어 효율적인 I/O처리 가능
Mesos - 처리에 할당하는 CPU 코어수 분배를 동적으로 바꿀 수 있는 등 세세한 제어 가능
Spark Standalone - 스파크 전용 클러스터 관리 시스템. 별도 시스템 없이 편리하게 이용 가능.

스파크 특징 및 활용 사례
스파크 병렬분산처리를 이용한 동작 효율이 높은 애플리케이션 만드는 법
스파크 작동 환경 구축 방법.

개인이 클라우드 서비스를 활용하여 여러대의 머신을 간편하게 다룰 수 있도록함. ( 분산처리)


웹 UI 활용법
